<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>yapydata.datatree.datatree.DataTree</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link - Main Document -->
      <th>&nbsp;&nbsp;&nbsp;<a target="_top"
        href="../index.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

      <th>&nbsp;&nbsp;&nbsp;<a target="_top"
        href="../index_part_apiref_scaled.html">Top</a>&nbsp;&nbsp;&nbsp;</th>

      <th>
          &nbsp;&nbsp;&nbsp;
          <a target="_parent" href="frames.html">&larr;</a>
          &nbsp;
      <th>
      <th>
          &nbsp;
          <a target="_parent" href="frames-right.html">&rarr;</a>
          &nbsp;&nbsp;&nbsp;
      </th>

  <!-- Overview link - api reference-->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="yapydata-module.html">Overview</a>&nbsp;&nbsp;&nbsp;</th>


  <!-- Module -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Module</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Class -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="class-tree.html">Class</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
  <!--
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Tree</a>&nbsp;&nbsp;&nbsp;</th>
  -->
  
  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Index</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
              <th>&nbsp;&nbsp;&nbsp;<a
                href="http://pypi.python.org/pypi/setupdocx">@www</a>&nbsp;&nbsp;&nbsp;</th>
          </tr></table></th>

  <!-- About link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="about.html">About</a>&nbsp;&nbsp;&nbsp;</th>
  </tr>
</table>
<table class="subnavbar" width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td>
      <table class="items" cellpadding="0" cellspacing="0">
        <tr>
            <td align="center">
                <span class="options">
                  <a href="frames.html" target="_top">&lt;Frames(L)</a>
                </span>
                &nbsp;
            </td>
            <td align="center">
                &#124;
                &nbsp;
                <span class="options">
                    <a href="yapydata.datatree.datatree.DataTree-class.html" target="_top">No&nbsp;Frames</a>
                </span>
                &nbsp;
                &#124;
            </td>
            <td align="center">
                &nbsp;
                <span class="options">
                   <a href="frames-right.html" target="_top">Frames(R)&gt;</a>
                </span>
            </td>
           </tr>
      </table>
    </td>
    <td>
    </td>
 </tr>
 <tr>
</table>
      <span class="breadcrumbs">
        <a href="yapydata-module.html">Package&nbsp;yapydata</a> ::
        <a href="yapydata.datatree-module.html">Package&nbsp;datatree</a> ::
        <a href="yapydata.datatree.datatree-module.html">Module&nbsp;datatree</a> ::
        Class&nbsp;DataTree
      </span>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class DataTree</h1><p class="nomargin-top"><span class="codelink"><a href="yapydata.datatree.datatree-pysrc.html#DataTree">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_yapydata_16" name="uml_class_diagram_for_yapydata_16">
<area shape="rect" id="node1_11" href="yapydata.datatree.datatree.DataTree-class.html#M_FIRST" title="yapydata.datatree.datatree.DataTree.M_FIRST" alt="" coords="17,92,415,112"/>
<area shape="rect" id="node1_12" href="yapydata.datatree.datatree.DataTree-class.html#M_LAST" title="yapydata.datatree.datatree.DataTree.M_LAST" alt="" coords="17,112,415,132"/>
<area shape="rect" id="node1_13" href="yapydata.datatree.datatree.DataTree-class.html#M_ALL" title="yapydata.datatree.datatree.DataTree.M_ALL" alt="" coords="17,132,415,152"/>
<area shape="rect" id="node1_14" href="yapydata.datatree.datatree.DataTree-class.html#match_map" title="yapydata.datatree.datatree.DataTree.match_map" alt="" coords="17,152,415,172"/>
<area shape="rect" id="node1_15" href="yapydata.datatree.datatree.DataTree-class.html#isvalid_top" title="Validate compliance of top&#45;node. To be provided by derived classes for specific syntaxes." alt="" coords="17,175,415,195"/>
<area shape="rect" id="node1_16" href="yapydata.datatree.datatree.DataTree-class.html#__init__" title="Configuration data in accordance to the selected data language syntax. The default is the Python syntax including the appropriate data types. This may impose additional constraints by derived classes e.g. in case of persistent data such as JSON and XML &#45; see other classes within this module." alt="" coords="17,195,415,215"/>
<area shape="rect" id="node1_17" href="yapydata.datatree.datatree.DataTree-class.html#__call__" title="Readout the value of a node, or an attribute. The name binding of the path is provided as a tuple of path items." alt="" coords="17,215,415,235"/>
<area shape="rect" id="node1_18" href="yapydata.datatree.datatree.DataTree-class.html#create" title="Creates a subpath to a given node, default is from top. Reuses existing nodes, starts the creation at the first point of branch&#45;out from the exiting tree." alt="" coords="17,235,415,255"/>
<area shape="rect" id="node1_19" href="yapydata.datatree.datatree.DataTree-class.html#get" title="Gets the value of the path within the member &#39;data&#39;:" alt="" coords="17,255,415,275"/>
<area shape="rect" id="node1_20" href="yapydata.datatree.datatree.DataTree-class.html#import_data" title="The core class *DataTree *does not support serialization." alt="" coords="17,275,415,295"/>
<area shape="rect" id="node1_21" href="yapydata.datatree.datatree.DataTree-class.html#join" title="Superposes a JSON structure onto an existing. This is a fixed mode and strategy special case of the generic method superpose(). Implemented by recursion. The reduced parameter set provides better performance on large trees while the graph parameters still could be efficiently set by default values." alt="" coords="17,295,415,315"/>
<area shape="rect" id="node1" href="yapydata.datatree.datatree.DataTree-class.html" title="Provides JSON based read&#45;only configuration of capabilities." alt="" coords="5,68,427,321"/>
<area shape="rect" id="node2" href="javascript:void(0);" title="??&#45;10" alt="" coords="185,5,245,49"/>
</map>
  <img src="uml_class_diagram_for_yapydata_16.gif" alt='' usemap="#uml_class_diagram_for_yapydata_16" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<p>Provides JSON based read-only configuration of capabilities.</p>
<p>The access to structured data trees offers various methods to
access paths of nested node attributes. This comprises the
creation as well as the readout.</p>
<p>The following equivalent creation methods are supported, where
'treenode' could be either the root node, or any subordinated
branch:</p>
<pre class="rst-literal-block">
treenode['subnode0']['subnode1']['subnode7'] = value  # dynamic items

value = treenode.create(                              # dynamic items by 'create()'
            'subnode0', 'subnode1', 'subnode7',
        )

value = treenode.subnode0.subnode1.subnode7           # static attribute addressing style
</pre>
<p>The following equivalent readout methods are supported, where
'treenode' could be either the root node, or any subordinated
branch:</p>
<pre class="rst-literal-block">
value = treenode['subnode0']['subnode1']['subnode7']  # dynamic items
value = treenode('subnode0', 'subnode1', 'subnode7')  # dynamic items by '__call__'
value = treenode.subnode0.subnode1.subnode7           # static attribute addressing style
</pre>

<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Class Variables</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="M_FIRST"></a><span class="summary-name">M_FIRST</span> = <code title="1">1</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="M_LAST"></a><span class="summary-name">M_LAST</span> = <code title="2">2</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="M_ALL"></a><span class="summary-name">M_ALL</span> = <code title="3">3</code>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Method Details</span></td>
</tr>
</table>
<a name="isvalid_top"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">isvalid_top</span>(<span class="sig-arg">value</span>,
        <span class="sig-arg">**kargs</span>)</span>
    <br /><em class="fname">Static Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="yapydata.datatree.datatree-pysrc.html#DataTree.isvalid_top">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Validate compliance of top-node. To be provided by derived classes
for specific syntaxes.</p>
<dl class="rst-docutils">
<dt>Args:</dt>
<dd><dl class="rst-rst-first rst-rst-last rst-first rst-last rst-docutils">
<dt>value:</dt>
<dd><p class="rst-first rst-last">Top node.</p>
</dd>
<dt>kargs:</dt>
<dd><p class="rst-first rst-last">Specific syntax related dynamic parameters to be defined
by derived classes.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd><p class="rst-first rst-last">None</p>
</dd>
<dt>Results:</dt>
<dd><dl class="rst-rst-first rst-rst-last rst-first rst-last rst-docutils">
<dt>YapyDataTreeError:</dt>
<dd><p class="rst-first rst-last">Raises exception when not valid.</p>
</dd>
</dl>
</dd>
</dl>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">data</span>=<span class="sig-default">None</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="yapydata.datatree.datatree-pysrc.html#DataTree.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <dl class="rst-docutils">
<dt>Args:</dt>
<dd><dl class="rst-first rst-last rst-docutils">
<dt>data:</dt>
<dd><p class="rst-first">Configuration data in accordance to the selected data language syntax.
The default is the Python syntax including the appropriate data types.
This may impose additional constraints by derived classes e.g. in case
of persistent data such as JSON and XML - see other classes within
this module.</p>
<p>The default Python DL implementation supports in-memory access only,
while persistence will be available for example by pickling.</p>
<p>The initial <em>data</em> defines the permitted type of the first item
within the <em>subpath</em> of the spanned data tree. The default value acts
here as a placeholder for an empty structure, which could be defined
by following extension operations arbitrarily.</p>
<p>The basic constraint introduced here is that intermediate nodes
require support of subscription. This is due to the addressing concepts
implemented by <em>DataTree</em>. Thus even though a <em>set</em> could technically
be an intermediate node, it could not be indexed, thus could not be
addressed by the standard member functions. Resulting 'set' and 'frozenset'
are supported by <em>DataTree</em> as end-nodes only, same as atomic data types.</p>
<p>Anyhow, the &lt;top-node&gt; is by default permitted to be an end-node. Thus
the context defines the applicability dynamically.</p>
<p class="rst-last">The consistency of the data tree including the valid intermediate nodes
is verified by access, so basically within the responsibility of the caller.</p>
</dd>
</dl>
</dd>
</dl>
<p>Returns:</p>
<blockquote>
None / initialized object</blockquote>
<dl class="rst-docutils">
<dt>Raises:</dt>
<dd><p class="rst-first">YapyDataDataTreeError</p>
<p class="rst-last">pass-through</p>
</dd>
</dl>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="__call__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__call__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">*subpath</span>,
        <span class="sig-arg">**kargs</span>)</span>
    <br /><em class="fname">(Call operator)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="yapydata.datatree.datatree-pysrc.html#DataTree.__call__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Readout the value of a node, or an attribute. The name binding
of the path is provided as a tuple of path items.</p>
<dl class="rst-docutils">
<dt>Args:</dt>
<dd><dl class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-rst-last rst-rst-rst-rst-first rst-rst-rst-rst-last rst-rst-rst-first rst-rst-rst-last rst-rst-first rst-rst-last rst-first rst-last rst-docutils">
<dt>subpath:</dt>
<dd><p class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">The list of keys constituting a branch of a data tree.
The <em>subpath</em> is treated as a branch of one of the nodes
of a provided <em>searchpath</em> - which is by default the top node.
The supported values are:</p>
<pre class="rst-literal-block">
subpath := &lt;list-of-node-ids&gt;
&lt;list-of-node-ids&gt; := &lt;node-id&gt; [',' &lt;list-of-node-ids&gt;]
node-id := (
      str            # string:  dict
    | int            # integer: lists, tuple, dict
)
</pre>
<p>The value of the node within <em>data</em>:</p>
<pre class="rst-literal-block">
nodeid := (
      &lt;single-nodeid&gt;
    | &lt;list-of-nodeids&gt;
    | &lt;tuple-of-nodeids&gt;
)
single-nodeid := &lt;nodeid&gt;
list-of-nodeids := '[' &lt;nodeidlists&gt; ']'
tuple-of-nodeids := '(' &lt;nodeidlists&gt; ')'
nodeidlists := &lt;nodeid&gt; [',' &lt;nodeidlists&gt;]
nodeid := (
      ItemKey
    | ListIndex
)
ItemKey := &quot;valid dict-key&quot;
ListIndex := &quot;valid list-index&quot;
</pre>
<p>The derived syntax classes may impose specific constraints.
Thus it is recommended to use integers and strings only
for maximum compatibility, and the ease of using mixed syntaxes:</p>
<pre class="rst-rst-rst-rst-rst-last rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last rst-literal-block">
ItemKey :=    str  # string:  dict
ListIndex :=  int  # integer: lists, tuple, dict
</pre>
</dd>
<dt>kargs:</dt>
<dd><dl class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-rst-last rst-rst-rst-rst-first rst-rst-rst-rst-last rst-rst-rst-first rst-rst-rst-last rst-rst-first rst-rst-last rst-first rst-last rst-docutils">
<dt>searchpath:</dt>
<dd><p class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">Optional search path for the match of the provided
address <em>subpath</em>. The provided <em>subpath</em> is applied
to each node of the <em>searchpath</em> in accordance to the
<em>direction</em> option. This provides the search and
enumeration of side branches:</p>
<pre class="rst-literal-block">
searchpath := &lt;path-item-list&gt;

path-item-list := &lt;path-item&gt; [, &lt;path-item-list&gt;]
path-item := (
      str  # item name
    | int  # item index
)

default := &lt;top-node&gt;
</pre>
<p class="rst-rst-rst-rst-rst-last rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last">The search path entries has to be actually present by default.
These  could be either created by loading a complete tree
structure, or by using the <em>Capabilities.create()</em> member.
See also parameter 'strict'.</p>
</dd>
<dt>direction:</dt>
<dd><p class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">The search direction of the <em>subpath</em> within the
<em>searchpath</em>. In case of multiple superpositioned
attributes the first traversed match.</p>
<p>The provided values are:</p>
<pre class="rst-rst-rst-rst-rst-last rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last rst-literal-block">
direction := (
      up   | 0  | False # search from right-to-left
    | down | 1  | True  # search from left-to-right
)

default:= up
</pre>
</dd>
<dt>match:</dt>
<dd><p class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">Sets the match criteria for the search operation.
Interferes with <em>direction</em>:</p>
<pre class="rst-rst-rst-rst-rst-last rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last rst-literal-block">
match := (
      M_FIRST | 'first'   # use first matching node
    | M_LAST  | 'last'    # use last matching node
    | M_ALL   | 'all'     # use all - iterate all matches
)

default := M_FIRST
</pre>
</dd>
<dt>partial:</dt>
<dd><p class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">Enables the return of partial sub paths in case the requested
path is not completely present.</p>
<pre class="rst-rst-rst-rst-rst-last rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last rst-literal-block">
partial := (
      True   # when not completely present, the longest
             # existing part is returned, the completeness
             # is provided by the result attribute &lt;partial&gt;
    | False  # when not completely present an exception
             # is raised
)
</pre>
</dd>
<dt>strict:</dt>
<dd><p class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">Controls the required consistency. This comprises:</p>
<ol class="rst-rst-rst-rst-rst-last rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last rst-arabic simple">
<li><p class="rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">the presence of the search path entries</p>
</li>
<li><p class="rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">the presence of the requested subpath within the set
of search paths</p>
</li>
</ol>
</dd>
<dt>pysyn:</dt>
<dd><p class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">Activates full <em>Python</em> syntax. This in particular enables all
container types of intermediate nodes for arbitrary paths.
Includes <em>tuple</em>, <em>set</em>, <em>frozenset</em>, etc.</p>
<pre class="rst-rst-rst-rst-rst-last rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last rst-literal-block">
pysyn := (
      True   # allows all python types as container nodes
    | False  # allows list and dict only as container nodes
)

default := False
</pre>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd><p class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">In case of a match returns the tuple:</p>
<pre class="rst-literal-block">
return := (&lt;attr-value-path&gt;, &lt;attr-value&gt;, &lt;partial&gt;)

attr-value-path := (
      &quot;the list of keys of the top-down path&quot;
    | &quot;empty list when no item exists&quot;        # see &lt;complete&gt;
)
attr-value := &quot;value of the targeted node/attribute&quot;
partial := (
      False   # the complete requested path
    | True    # the actually present part of the path
)
</pre>
<p class="rst-rst-rst-rst-rst-last rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last">Else raises <em>YapyDataDataTreeOidError</em>.</p>
</dd>
<dt>Raises:</dt>
<dd><p class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">YapyDataDataTreeOidError</p>
<p class="rst-rst-rst-rst-rst-last rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last">pass-through</p>
</dd>
</dl>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="create"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">create</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">*subpath</span>,
        <span class="sig-arg">**kargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="yapydata.datatree.datatree-pysrc.html#DataTree.create">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Creates a <em>subpath</em> to a given node, default is from top.
Reuses existing nodes, starts the creation at the first point
of branch-out from the exiting tree.</p>
<p>In general no padding of pre-required entries is done. This e.g.
requires in case of a <em>list</em> the start with the index <em>0</em>, while
in case of the <em>dict</em> arbitrary keys could be assigned.</p>
<dl class="rst-docutils">
<dt>Args:</dt>
<dd><dl class="rst-rst-rst-rst-first rst-rst-rst-rst-last rst-rst-rst-first rst-rst-rst-last rst-rst-first rst-rst-last rst-first rst-last rst-docutils">
<dt>subpath:</dt>
<dd><p class="rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">The list of keys constituting a branch of a data tree.
The <em>subpath</em> is treated as a branch of one of the nodes
of a provided <em>searchpath</em> - which is by default the top node.
The supported values are:</p>
<pre class="rst-literal-block">
subpath := &lt;list-of-node-ids&gt;
&lt;list-of-node-ids&gt; := &lt;node-id&gt; [',' &lt;list-of-node-ids&gt;]
node-id := (
      &lt;present-intermediate-node&gt;
    | &lt;new-node&gt;
)
present-intermediate-node := (
      str             # string:  dict
    | int             # integer: lists, tuple, dict
    | True | False    # logic:   dict
    | None            # null:    dict
)
new-node := (
      str             # string:  dict
    | int             # integer: list
    | True | False    # logic:   dict
    | None            # null:    dict
)
</pre>
<p class="rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last">Some <em>Python</em> data types are immutable, which could be subscripted read-only,
e.g. strings. While others such as sets are iterable, but not subscriptable
at all. Refer to the manual for a detailed list.</p>
</dd>
<dt>kargs:</dt>
<dd><dl class="rst-rst-rst-rst-first rst-rst-rst-rst-last rst-rst-rst-first rst-rst-rst-last rst-rst-first rst-rst-last rst-first rst-last rst-docutils">
<dt>hook:</dt>
<dd><p class="rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">Optional node as parent of the insertion point for the new sub path.
The node must exist and be part of the targeted data structure. No
additional checks are done:</p>
<pre class="rst-literal-block">
hook := &lt;memory-node&gt;
memory-node := &quot;node address&quot;

default := &lt;top-node&gt;
</pre>
<p class="rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last">The <em>hook</em> node could either be a border node of the existing tree,
or any arbitrary node with a partial of complete part of the requested
<em>subpath</em>. Existing nodes are reused.</p>
</dd>
<dt>strict:</dt>
<dd><p class="rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">If <em>True</em> requires all present nodes of the <em>subpath</em> to of the
appropriate type, missing are created. When <em>False</em> present nodes
of inappropriate type are simply replaced.</p>
<pre class="rst-literal-block">
strict := (
      True   # nodes must be present
    | False  # missing are created
)
default := False
</pre>
<p class="rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last">Nodes of type <em>None</em> are always treated as non-present placeholder,
thus replaced in any case.</p>
</dd>
<dt>value:</dt>
<dd><p class="rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">Value of the created final node:</p>
<pre class="rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last rst-literal-block">
value := &lt;value-of-node&gt;

value-of-node := &lt;valid-json-node-type&gt;
valid-json-node-type := (
                      int | float
                    | str                  # unicode
                    | dict | list
                    | None | True | False  # equivalent: null|true|false
                    )

default := None
</pre>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd><p class="rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">In case of success the in-memory nodes of the sub path:</p>
<pre class="rst-literal-block">
return := (&lt;attr-value-path&gt;)

attr-value-path-tuple := (
      &lt;in-memory nodes&gt;
    | &lt;non-subscriptable-node&gt;
)
in-memory nodes := (
    &quot;the list of in-memory nodes with support of subscription&quot;
)
non-subscriptable-node := &quot;any valid type&quot;
</pre>
<p>else raises <em>YapyDataDataTreeOidError</em>.</p>
<p class="rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last">The last node contains in case of an atomic type the value
of the node, while the intermediate nodes represent the
indexed containers.</p>
</dd>
<dt>Raises:</dt>
<dd><p class="rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">YapyDataDataTreeOidError</p>
<p class="rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last">pass-through</p>
</dd>
</dl>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="get"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">*path</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="yapydata.datatree.datatree-pysrc.html#DataTree.get">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Gets the value of the path within the member 'data':</p>
<pre class="rst-literal-block">
self.data[key]
self.data[key0][key1][key2]...
</pre>
<dl class="rst-docutils">
<dt>Args:</dt>
<dd><dl class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-rst-last rst-rst-rst-rst-first rst-rst-rst-rst-last rst-rst-rst-first rst-rst-rst-last rst-rst-first rst-rst-last rst-first rst-last rst-docutils">
<dt>key:</dt>
<dd><p class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">The value of the node within <em>data</em>:</p>
<pre class="rst-rst-rst-rst-rst-last rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last rst-literal-block">
key := (
      &lt;single-key&gt;
    | &lt;list-of-keys&gt;
    | &lt;tuple-of-keys&gt;
)
single-key := &lt;key&gt;
list-of-keys := '[' &lt;keylists&gt; ']'
tuple-of-keys := '(' &lt;keylist&gt; ')'
keylist := &lt;key&gt; [',' &lt;keylist&gt;]
key := (
      ItemKey
    | ListIndex
)
ItemKey := &quot;valid dict-key&quot;
ListIndex := &quot;valid list-index&quot;
</pre>
</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd><p class="rst-rst-rst-rst-first rst-rst-rst-rst-last rst-rst-rst-first rst-rst-rst-last rst-rst-first rst-rst-last rst-first rst-last">The value of the addressed node/value.</p>
</dd>
<dt>Raises:</dt>
<dd><p class="rst-rst-rst-rst-first rst-rst-rst-rst-last rst-rst-rst-first rst-rst-rst-last rst-rst-first rst-rst-last rst-first rst-last">pass-through</p>
</dd>
</dl>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="import_data"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">import_data</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">fpname</span>,
        <span class="sig-arg">key</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">node</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">**kargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="yapydata.datatree.datatree-pysrc.html#DataTree.import_data">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
The core class *DataTree *does not support serialization.

For serialization use either a derived syntax class, or 
serialize it e..g. by pickling and use the in-memory data.
For example by pickling:: 

    def import_data(self, fpname, key=None, node=None, **kargs):
        if not os.path.isfile(fpname):
            if not os.path.isfile(fpname + '.pkl'):
                raise YapyDataTreeError(
                    &quot;Missing file: &quot; + str(fpname))
            else:
                fpname = fpname + '.pkl'
         
        if key and node == None:
            raise YapyDataTreeError(
                &quot;Given key(%s) requires a valid node.&quot; % (str(key)))
         
        datafile = os.path.abspath(fpname)
        with open(datafile, 'rb') as data_file:
            pval = pickle.load(data_file)
         
        if key:
            node[key] = pval
        else:
            self.data = pval
         
        return pval

    See manuals for security issues of pickling.

</pre>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="join"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">join</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">data</span>,
        <span class="sig-arg">keyidx</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">hook</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="yapydata.datatree.datatree-pysrc.html#DataTree.join">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Superposes a JSON structure onto an existing. This
is a fixed mode and strategy special case of the generic
method <em>superpose()</em>. Implemented by recursion. The reduced
parameter set provides better performance on large trees
while the graph parameters still could be efficiently set
by default values.</p>
<p>The superpositioning is supported by multiple strategies
defined by the parameter <em>mode</em>. The provided algorithm
of the strategy is <em>join</em>, where the input data is processed
on the exisiting tree by modification and creation as required.</p>
<ul class="rst-simple">
<li><p class="rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">branches are resolved from top to the leafs</p>
</li>
<li><p class="rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">missing sub-branches are created</p>
</li>
<li><p class="rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">missing leafs are created</p>
</li>
<li><p class="rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">existing leafs are replaced</p>
</li>
</ul>
<p>This implements a last-wins strategy, thus in particular supports
incremental load of configurations by raising priority.</p>
<dl class="rst-docutils">
<dt>Args:</dt>
<dd><dl class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-rst-last rst-rst-rst-rst-first rst-rst-rst-rst-last rst-rst-rst-first rst-rst-rst-last rst-rst-first rst-rst-last rst-first rst-last rst-docutils">
<dt>data:</dt>
<dd><p class="rst-rst-rst-rst-first rst-rst-rst-rst-last rst-rst-rst-first rst-rst-rst-last rst-rst-first rst-rst-last rst-first rst-last">Top node of the data tree to be superposed.</p>
</dd>
<dt>keyidx:</dt>
<dd><p class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">Key or index to be used at the insertion node.
If not given the insertion node is:</p>
<pre class="rst-rst-rst-rst-rst-last rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last rst-literal-block">
into dict: update by the new node
into list: append the new node

default := None
</pre>
</dd>
<dt>hook:</dt>
<dd><p class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">The insertion node for the new data:</p>
<pre class="rst-rst-rst-rst-rst-last rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last rst-literal-block">
when  not given: use top.

default := None
</pre>
</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd><p class="rst-rst-rst-rst-first rst-rst-rst-rst-last rst-rst-rst-first rst-rst-rst-last rst-rst-first rst-rst-last rst-first rst-last">Returns the merged data tree,
raises an exception in case of failure.</p>
</dd>
<dt>Raises:</dt>
<dd><p class="rst-rst-rst-rst-rst-first rst-rst-rst-rst-first rst-rst-rst-first rst-rst-first rst-first">YapyDataDataTreeError</p>
<p class="rst-rst-rst-rst-rst-last rst-rst-rst-rst-last rst-rst-rst-last rst-rst-last rst-last">pass-through</p>
</dd>
</dl>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== CLASS VARIABLE DETAILS ==================== -->
<a name="section-ClassVariableDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Class Variable Details</span></td>
</tr>
</table>
<a name="match_map"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">match_map</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
{M_FIRST: 1, M_LAST: 2, M_ALL: 3, 'first': 1, 'last': 2, 'all': 3,}
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link - Main Document -->
      <th>&nbsp;&nbsp;&nbsp;<a target="_top"
        href="../index.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

      <th>&nbsp;&nbsp;&nbsp;<a target="_top"
        href="../index_part_apiref_scaled.html">Top</a>&nbsp;&nbsp;&nbsp;</th>

      <th>
          &nbsp;&nbsp;&nbsp;
          <a target="_parent" href="frames.html">&larr;</a>
          &nbsp;
      <th>
      <th>
          &nbsp;
          <a target="_parent" href="frames-right.html">&rarr;</a>
          &nbsp;&nbsp;&nbsp;
      </th>

  <!-- Overview link - api reference-->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="yapydata-module.html">Overview</a>&nbsp;&nbsp;&nbsp;</th>


  <!-- Module -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Module</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Class -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="class-tree.html">Class</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
  <!--
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Tree</a>&nbsp;&nbsp;&nbsp;</th>
  -->
  
  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Index</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr>
              <th>&nbsp;&nbsp;&nbsp;<a
                href="http://pypi.python.org/pypi/setupdocx">@www</a>&nbsp;&nbsp;&nbsp;</th>
          </tr></table></th>

  <!-- About link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="about.html">About</a>&nbsp;&nbsp;&nbsp;</th>
  </tr>
</table>
<table class="footTable" border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
        Copyright(C) 2019 Arno-Can Uestuensoez @Ingenieurbuero Arno-Can Uestuensoez
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="https://arnocan.wordpress.com"
        >https://arnocan.wordpress.com</a>
    </td>
  </tr>
  <tr>
    <td align="lest" class="footer">
    Generated by Epydoc 4.0.4 / Python-3.8 / fedora27 on Fri Dec 13 10:39:09 2019
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
